(window.webpackJsonp=window.webpackJsonp||[]).push([[155],{2184:function(e,t,a){"use strict";a.r(t);var s=a(0),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"aws-lambda"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#aws-lambda"}},[e._v("#")]),e._v(" AWS Lambda")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://aws.amazon.com/lambda/",target:"_blank",rel:"noopener noreferrer"}},[e._v("AWS Lambda"),s("OutboundLink")],1),e._v(" is a scalable compute service that allows you to execute code without provisioning or managing servers. It is a versatile service that enables users to build a variety of real-time serverless data processing systems quickly and easily.")]),e._v(" "),s("h2",{attrs:{id:"working-with-the-aws-lambda-connector"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#working-with-the-aws-lambda-connector"}},[e._v("#")]),e._v(" Working with the AWS Lambda connector")]),e._v(" "),s("h2",{attrs:{id:"output-schema-definition"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-schema-definition"}},[e._v("#")]),e._v(" Output schema definition")]),e._v(" "),s("p",[e._v("When working with Lambda functions as triggers or actions, you will need to define the output schema for the function being called, as each function's response is variable. This sample output schema will be used to build the "),s("router-link",{attrs:{to:"/workato-concepts.html#datatree-and-datapills"}},[e._v("output datatree")]),e._v(". This datatree allows you to use the data returned from the Lambda function in subsequent recipe actions.")],1),e._v(" "),s("p",[e._v("To define the output schema, provide a sample response to the "),s("code",[e._v("Response body")]),e._v(" input field. This should describe the data structure and schema of the output. There are 2 ways to configure this input field:")]),e._v(" "),s("ul",[s("li",[e._v("Use a sample JSON")]),e._v(" "),s("li",[e._v("Manually define schema using the schema designer widget")])]),e._v(" "),s("p",[s("DocImage",{attrs:{src:a(445),alt:"Schema Designer",width:"1402",height:"548"}}),e._v(" "),s("em",[e._v("Response body input field")])],1),e._v(" "),s("p",[e._v("This article focuses on defining the output schema via sample JSON. Clicking on "),s("code",[e._v("generate from JSON sample")]),e._v(" brings up the following schema designer widget.")]),e._v(" "),s("p",[s("DocImage",{attrs:{src:a(446),alt:"Sample JSON pop up",width:"1948",height:"1270"}}),e._v(" "),s("em",[e._v("Schema designer widget")])],1),e._v(" "),s("p",[e._v("There are two typical formats for a JSON:")]),e._v(" "),s("ul",[s("li",[e._v("JSON response body")]),e._v(" "),s("li",[e._v("Single primitive data")])]),e._v(" "),s("h2",{attrs:{id:"json-response"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#json-response"}},[e._v("#")]),e._v(" JSON response")]),e._v(" "),s("p",[e._v("Workato requires all data be presented as key & value pairs. This is done so that we can map values using its respective key. JSON data format is a good example. For the AWS Lambda connector, we require all response JSON to be wrapped in a parent "),s("code",[e._v('"response"')]),e._v(" object. Hence using a given response like this:")]),e._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("123")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Ee Shan"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"email"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"eeshan@workato.com"')]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),s("p",[e._v("Wrap it in a parent "),s("code",[e._v('"response"')]),e._v(" object:")]),e._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"response"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("123")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Ee Shan"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"email"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"eeshan@workato.com"')]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),s("p",[e._v("Insert the output JSON and click "),s("code",[e._v("Generate")]),e._v(". This generates the following output datatree:")]),e._v(" "),s("p",[s("DocImage",{attrs:{src:a(447),alt:"JSON response output datatree",width:"1150",height:"685"}}),e._v(" "),s("em",[e._v("JSON body output datatree")])],1),e._v(" "),s("h2",{attrs:{id:"primitive-data-response"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#primitive-data-response"}},[e._v("#")]),e._v(" Primitive data response")]),e._v(" "),s("p",[e._v("If the Lambda function returns non-JSON data structure, like a single string, integer or a simple boolean value, it will likewise need to be wrapped in a parent "),s("code",[e._v('"response"')]),e._v(" object. Let's look at a simple function that returns an integer value (ID for example). A sample response will be:")]),e._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[e._v("4990")]),e._v("\n")])])]),s("p",[e._v("Wrap it in a parent "),s("code",[e._v('"response"')]),e._v(" object:")]),e._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"response"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("4990")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),s("p",[e._v("Insert the output JSON and click "),s("code",[e._v("Generate")]),e._v(". This generates the following output datatree:")]),e._v(" "),s("p",[s("DocImage",{attrs:{src:a(448),alt:"Primitive response output datatree",width:"1184",height:"686"}}),e._v(" "),s("em",[e._v("Primitive response output datatree")])],1)])}),[],!1,null,null,null);t.default=n.exports},445:function(e,t,a){e.exports=a.p+"assets/img/response_body_input_field.593826e3.png"},446:function(e,t,a){e.exports=a.p+"assets/img/sample_json_pop_up.512e2e9a.png"},447:function(e,t,a){e.exports=a.p+"assets/img/json_sample_output.6890d8ad.gif"},448:function(e,t,a){e.exports=a.p+"assets/img/primitive_sample_output.9d96b67f.gif"}}]);