(window.webpackJsonp=window.webpackJsonp||[]).push([[209],{1243:function(t,s){t.exports="data:image/png;base64,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"},1244:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfkAAACHCAMAAAAiN9DTAAACN1BMVEX6+vry8vLPz89ra2u43N5SUlJruLz////x8fHMzMzU1NSrq6tfX1/m8PHg7u/Dw8NKqK6srKw0nqU9oqjP5udVrbNvub7v7+/w8PCEhIT5+vqbztHw9fXp6enq6uqvr6/o6Ojt7e3u7u7r6+vs7Oz+/v7x9vZHp61gsrhVrrP4+fl1vMHM5ObR0dG5ubnHx8etra3FxcXIyMjW1tawsLCez9Ly9ver1dhxur/2+PiWzM+Kxsq12tzc3Nzl5eXX19fKyspUVFRjY2O/v7+CgoJ6enqamprj4+Pe3t6j0tTf399TU1O+vr673d9UrbJPqrDi7/DF4eNtbW33+flwur5fsrdTrLKPyMxzu8Ct1tnH4uRmtbrB4OGOyMxasLXv9fVptruIxclcsbb09/eFxMii0dTE4eO/3uBktLn19fX29vazs7PZ2dnC4OKazdCVlZWysrKoqKh8wMTb7O21tbViYmK7u7uGxMi4uLiXl5eXzM/m5ua3t7e6urq63N92vcFkZGSPj4/JycmpqanS0tKqqqrV1dW0tLTk5OTd3d3i4uKMjIzV6eo8oqjGxsZ0vMDAwMDn5+d1vMCm09Zqt7y83d/1+Pik0tVqt7vo8vJXrrROqrAynaRsuL0rmqFQq7CRyc0um6Ld7e7l8PH3+PhEpqxgs7iTys3r8/PG4uQ6oag+oqlRrLGMx8tZr7WYzNC22t3p8vJFpqxEpavR5+lIp607oqjB3+F5vsI2n6ZJqK23291yu7803s07AAADG0lEQVR42u3cV1MTURiA4UPcwIYVSFAghkCooUvvSlXpTRRR7BV777333nvvvdcfZzaQAA44yOiMy77PxSaczeTieyeHbC5WCAAAAAAAAAAAAAAAAAAAAAAAAPzOiJHCx2g01u3ZGsEw9Fd+ck7G8fKK7d7Fq+0Dvv7ESWffBV9p1UrGqNXyY1xPsowTvIsv80Xwp+fXL/bzevt526/l1ycyRi2XFxONkZ7Fj3YRHCie3nAO4g18JZEUwBy1XH6S0dC9FpAk1PLi2T0RPjtkkRDTEqZ2SONC1cwBo8ToKzfv3veeaJLEZok5Do/yqT/c5b8ntM6ca0ueH7jkRV5hSK/ytxoedJ+4nXepURI1ucxxeOz2LV9c5b997WwWxUkpKYmp816rzXvKtwnPiSL3bp+/jTlquHx6zze8D77qZ/7z+ydiVpH698JwNfAbb/kQ0eeECK9hjtq9qttbvrHEs+Y0u3f7x53JM8xzxOIF0x8lv30npbYJZ5OnfPeJDmE3S2J3C3PUaHmjsa5ida9fcl4FquVtF+6IXLO5wF445WFooiTarxWEesp7TjSeOy3ZEvKY4zCRX9zfxdtAdq1jYsNF6+U/Kd/QzMQAAAAAAACAfyUizQQNS4scanmDjzwYJj/8l5YahlreJFNe00yUpzzlKU95ylOe8pSnPOUpT3nKU57ylKc85SkPyoPyoDw0XD4qSj1GV0WrDzFH4iivk/KlSpDrWK0olipZPmZRlFrK66L8CiVDLZ9eZnVkuVpnWg+nU14X5cNKxga5n8QqB1xHqynnKOV18n++q3zYzi1h6kOQ4k95PZWP2bRD/YZ3qFqur6S8Pnb7TMfyNFmuXLthTZks7ztYv5/PvD7KW/39/cfLcnbXg7XUUMtVHb/kUJ7yoDwoD8qD8qA8KI+/K9ZBeV06a4mhvB5FqeEpr8Ot3hIXn015/Ylzhc88RXkdbvXR8Wey2O31xxHrlx0UT3mu57krmt4sG/Jd0SIM3E1QywxDvhMiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzoJ7nCeEPbQ63GAAAAAElFTkSuQmCC"},1245:function(t,s){t.exports="data:image/png;base64,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"},2499:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"basics"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#basics"}},[t._v("#")]),t._v(" Basics")]),t._v(" "),e("h2",{attrs:{id:"making-requests"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#making-requests"}},[t._v("#")]),t._v(" Making requests")]),t._v(" "),e("p",[t._v("The custom adapter framework supports building adapters to applications that offer an API reachable over HTTP/HTTPS.  The common request/response formats are supported: JSON (default), XML, and "),e("code",[t._v("www-form-urlencoded")]),t._v(".")]),t._v(" "),e("p",[t._v("In parts of the adapter that need to make requests, the HTTP verbs (GET, POST etc) are supported as ruby methods.  Let's use an example of an API that uses simple token-based authentication passed as a URL parameter, and returns customer records wrapped in a superfluous "),e("code",[t._v("customer")]),t._v(" JSON object that we want the adapter to peel off as it's not useful to recipe authors using it:")]),t._v(" "),e("p",[e("code",[t._v("GET https://api.my-app.com/v1/customers.json?id=1234&api_token=xyz")])]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"customer"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"John Smith"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"john.smith@email.com"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"address"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"street"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123 Main St"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"city"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Anytown"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"state"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CA"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zip"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"94321"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"country"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"USA"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("A request to do the above could be written in a custom adapter as:")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("get"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.my-app.com/v1/customers.json?id=1234&api_token=xyz'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'customer'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[t._v("or")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("get"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.my-app.com/v1/customers.json'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" api_token"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xyz'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'customer'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("h2",{attrs:{id:"request-execution"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#request-execution"}},[t._v("#")]),t._v(" Request execution")]),t._v(" "),e("p",[t._v("Let's dissect the different parts of the second form of the request above:")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("get"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.my-app.com/v1/customers.json'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" api_token"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xyz'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'customer'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[t._v("This chains three method calls:")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("Create the base request.")])]),t._v(" "),e("li",[e("p",[t._v("Mix in more request options.")])]),t._v(" "),e("li",[e("p",[t._v("Access the response, at which point the request is lazy-executed.")])])]),t._v(" "),e("h3",{attrs:{id:"base-request"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#base-request"}},[t._v("#")]),t._v(" Base request")]),t._v(" "),e("p",[e("code",[t._v("GET https://api.my-app.com/v1/customers.json")])]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("get"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.my-app.com/v1/customers.json'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("No request has been made yet: The result so far is the cued-up request for the base URL, and with the request and expected response format set to the default, JSON.")]),t._v(" "),e("h3",{attrs:{id:"mix-in-request-options"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mix-in-request-options"}},[t._v("#")]),t._v(" Mix in request options")]),t._v(" "),e("p",[e("code",[t._v("id=1234&api_token=xyz")])]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("params"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" api_token"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xyz'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[e("code",[t._v("params")]),t._v(" is one of the methods available on the request object, adding URL parameters, which are passed as a hash object.  More methods can be similarly chained to mix in other aspects of the request that is to be made:")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("payload")])]),t._v(" "),e("p",[t._v("Payload fields (PATCH, POST, PUT only), also passed as a hash.")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("headers")])]),t._v(" "),e("p",[t._v("Request headers, passed as a hash")])]),t._v(" "),e("li",[e("p",[t._v("Methods to change the request/response (or both) formats from the JSON default:")]),t._v(" "),e("p",[e("code",[t._v("request_format_json")]),t._v(", "),e("code",[t._v("response_format_json")]),t._v(", "),e("code",[t._v("format_json")]),t._v(", "),e("code",[t._v("request_format_xml")]),t._v(", "),e("code",[t._v("response_format_xml")]),t._v(", "),e("code",[t._v("format_xml")]),t._v(", "),e("code",[t._v("request_format_www_form_urlencoded")])])]),t._v(" "),e("li",[e("p",[t._v("HTTP authentication")]),t._v(" "),e("p",[e("code",[t._v("user")]),t._v(", "),e("code",[t._v("password")])])])]),t._v(" "),e("h3",{attrs:{id:"execute-request-and-process-the-response"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#execute-request-and-process-the-response"}},[t._v("#")]),t._v(" Execute request and process the response")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'customer'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[t._v("By calling any method ("),e("code",[t._v("[]")]),t._v(" here) that is not a request option, the adapter signals that it is time to make the request so that we can process the API response.  In this JSON default case, the response is parsed into a ruby hash:")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"customer"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"John Smith"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"john.smith@email.com"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"address"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"street"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123 Main St"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"city"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Anytown"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"state"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CA"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zip"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"94321"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"country"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"USA"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("Which then has the "),e("code",[t._v("['customer']")]),t._v(" method evaluated on it, peeling off the "),e("code",[t._v("customer")]),t._v(" envelope and resulting in the action's output:")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"John Smith"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"john.smith@email.com"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"address"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"street"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123 Main St"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"city"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Anytown"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"state"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CA"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zip"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"94321"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"country"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"USA"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"schema-describing-input-output"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#schema-describing-input-output"}},[t._v("#")]),t._v(" Schema - describing input/output")]),t._v(" "),e("p",[t._v("There are several components where the adapter needs to describe the expected fields for input, output or configuration.  This is done using schema notation:")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":integer")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"address"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    type"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":object")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    properties"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"street"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"city"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zip"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"country"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("h1",{attrs:{id:"adapter-components"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#adapter-components"}},[t._v("#")]),t._v(" Adapter components")]),t._v(" "),e("p",[t._v("With these basics out of the way, we can now walk through an example adapter, and show how its various parts relate to how users will edit and run recipes.")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      title"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'My sample adapter'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \n      connection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n")])])]),e("h2",{attrs:{id:"connection-fields"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#connection-fields"}},[t._v("#")]),t._v(" Connection fields")]),t._v(" "),e("p",[t._v("The optional connection "),e("code",[t._v("fields")]),t._v(" use the "),e("a",{attrs:{href:"#schema-describing-input-output"}},[t._v("schema")]),t._v(" notation to describe the connection configuration fields, if any are needed.  Using the example API above that requires an "),e("code",[t._v("api_token")]),t._v(" URL parameter, this might be:")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("        fields"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'api_token'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            label"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'API token'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            optional"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            hint"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'You can find your MyApp API token under \"Account Settings\"'")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),e("p",[t._v("use the "),e("a",{attrs:{href:"#schema-describing-input-output"}},[t._v("schema")]),t._v(" notation to describe the connection's properties, shown wherever the connection configuration is displayed, for example in the recipe's connection tab:")]),t._v(" "),e("p",[e("DocImage",{attrs:{src:a(1243),alt:"connection_settings.png",width:"492",height:"294"}})],1),t._v(" "),e("h2",{attrs:{id:"authorization"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#authorization"}},[t._v("#")]),t._v(" Authorization")]),t._v(" "),e("p",[e("code",[t._v("connection")]),t._v(" can optionally also contain an "),e("code",[t._v("authorization")]),t._v(" component to consolidate the API's authorization logic.  "),e("code",[t._v("authorization")]),t._v(" can contain several components, its most important one being "),e("code",[t._v("apply")]),t._v(", which lets us define "),e("a",{attrs:{href:"#mix-in-request-options"}},[t._v("request options")]),t._v(" that will be added to any API request made by the adapter:")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("        authorization"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          apply"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lambda "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("connection"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n            params"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("api_token"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" connection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'api_token'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),e("p",[t._v("This way our "),e("a",{attrs:{href:"#request-execution"}},[t._v("requests")]),t._v(" don't need to repeat the authorization options:")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("get"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.my-app.com/v1/customers.json'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'customer'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("h2",{attrs:{id:"connection-test"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#connection-test"}},[t._v("#")]),t._v(" Connection test")]),t._v(" "),e("p",[t._v("Back outside "),e("code",[t._v("connection")]),t._v(", the "),e("code",[t._v("test")]),t._v(" component lets the connection be tested, e.g. to make sure the credentials, like "),e("code",[t._v("api_token")]),t._v(" in this example, are still valid.")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    test"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lambda "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("connection"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n        get"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.my-app.com/v1/customers.json'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("limit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),e("p",[t._v("As long as the lambda does not raise an exception, the connection is considered live.  It is invoked:")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("With non-OAuth adapters only: when the "),e("code",[t._v("Connect")]),t._v(" button is clicked.")])]),t._v(" "),e("li",[e("p",[t._v("In all cases:  When starting a recipe, each connection used in it has the corresponding "),e("code",[t._v("test")]),t._v(" called; starting the recipe fails if any "),e("code",[t._v("test")]),t._v(" raises an error.")])])]),t._v(" "),e("h1",{attrs:{id:"actions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#actions"}},[t._v("#")]),t._v(" Actions")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("    actions"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      get_customer_by_id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n")])])]),e("h2",{attrs:{id:"input-form"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#input-form"}},[t._v("#")]),t._v(" Input form")]),t._v(" "),e("p",[t._v("When one of the adapter's actions is used in a recipe, its input form is based on its "),e("code",[t._v("input_fields")]),t._v(" lambda, which also uses the "),e("a",{attrs:{href:"#schema-describing-input-output"}},[t._v("schema")]),t._v(" notation.")]),t._v(" "),e("p",[t._v('Continuing with our "get customer by ID" action example:')]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("        input_fields"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lambda "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":integer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" optional"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("false")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),e("p",[e("DocImage",{attrs:{src:a(1244),alt:"input_form.png",width:"505",height:"135"}})],1),t._v(" "),e("h2",{attrs:{id:"output-tree"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#output-tree"}},[t._v("#")]),t._v(" Output tree")]),t._v(" "),e("p",[t._v("Using the same "),e("a",{attrs:{href:"#schema-describing-input-output"}},[t._v("schema")]),t._v(" notation, "),e("code",[t._v("output_fields")]),t._v(" describes the action's output that will appear downstream in the recipe job data:")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("        output_fields"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lambda "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":integer")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"address"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              type"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token symbol"}},[t._v(":object")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              properties"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"street"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"city"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zip"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"country"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n              "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),e("p",[e("DocImage",{attrs:{src:a(1245),alt:"output_tree.png",width:"252",height:"363"}})],1),t._v(" "),e("h2",{attrs:{id:"execute"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#execute"}},[t._v("#")]),t._v(" "),e("code",[t._v("execute")])]),t._v(" "),e("p",[t._v("At runtime, when the job reaches a recipe line that uses this action, its "),e("code",[t._v("execute")]),t._v(" lambda is called.")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("The first argument is the "),e("a",{attrs:{href:"#connection-fields"}},[e("code",[t._v("connection")])]),t._v(" fields, packaged in a hash object.")])]),t._v(" "),e("li",[e("p",[t._v("The second argument is the action's input, evaluated based on how the "),e("a",{attrs:{href:"#input-form"}},[t._v("input form")]),t._v(" is configured in the recipe.  Also packaged as a hash object.")])])]),t._v(" "),e("p",[t._v("As discussed earlier, the "),e("code",[t._v("execute")]),t._v(" lambda "),e("a",{attrs:{href:"#request-execution"}},[t._v("makes the request")]),t._v(".  The result, lazy-evaluated either within the lambda or right after it returns, is expected to contain the specified "),e("a",{attrs:{href:"#output-tree"}},[t._v("output fields")]),t._v(".")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("        execute"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lambda "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("connection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" input"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n          get"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.my-app.com/v1/customers.json'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" input"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'customer'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# get_customer_by_id")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# actions:")]),t._v("\n")])])]),e("h1",{attrs:{id:"triggers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#triggers"}},[t._v("#")]),t._v(" Triggers")]),t._v(" "),e("pre",[e("code",[t._v("  triggers: {\n    new_customer: {\n")])]),t._v(" "),e("h2",{attrs:{id:"input-form-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#input-form-2"}},[t._v("#")]),t._v(" Input form")]),t._v(" "),e("p",[t._v("Same as the one for "),e("a",{attrs:{href:"#input-form"}},[t._v("actions")])]),t._v(" "),e("h2",{attrs:{id:"output-tree-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#output-tree-2"}},[t._v("#")]),t._v(" Output tree")]),t._v(" "),e("p",[t._v("Similar to "),e("a",{attrs:{href:"#output-tree"}},[t._v("actions")]),t._v(", but describes what each "),e("strong",[t._v("one")]),t._v(" of the collection of records that the trigger's "),e("code",[t._v("poll")]),t._v(" (see below) contains.")]),t._v(" "),e("h2",{attrs:{id:"polling-for-trigger-events"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#polling-for-trigger-events"}},[t._v("#")]),t._v(" Polling for trigger events")]),t._v(" "),e("p",[t._v('There are two types of trigger, to cater to two common patterns in such API endpoints: "Ascending" (the default), and "paging", a.k.a. descending.')]),t._v(" "),e("h3",{attrs:{id:"ascending-endpoints"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ascending-endpoints"}},[t._v("#")]),t._v(' "Ascending" endpoints')]),t._v(" "),e("p",[t._v("These are API endpoints that list records in the same order as we would want them consumed.  This is typically ascending in creation or modification time.")]),t._v(" "),e("p",[e("code",[t._v("GET /v1/customers.json?created_since=2017-01-01T12:00:00Z&order=asc&limit=100")])]),t._v(" "),e("pre",[e("code",[t._v('{\n  "customers": [\n     {\n       id: 1234,\n       created_at: "2017-01-02T12:34:56Z",\n       ...\n     },\n     ... (up to 100 total customer records)\n     {\n       id: 2345,\n       created_at: "2017-01-03T12:34:56Z",\n       ...\n     }\n  ]\n}\n')])]),t._v(" "),e("h4",{attrs:{id:"poll"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#poll"}},[t._v("#")]),t._v(" "),e("code",[t._v("poll")])]),t._v(" "),e("pre",[e("code",[t._v("    new_customer_ascending: {\n      poll: lambda do |connection, input, last_created_since|\n        created_since = last_created_since || input['created_since']\n        customers = get('https://api.my-app.com/v1/customers.json').\n                      params(created_since: created_since.iso8601,\n                             order: 'asc',\n                             limit: 100)['customers'] || []\n        {\n          events: customers,\n          next_poll: (customers.length > 0 && customers.last['created_at'] ||\n                        created_since),\n          can_poll_more: (customers.length >= 100)\n        }\n      end,\n")])]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("poll")]),t._v(" response contains three parts:")]),t._v(" "),e("h5",{attrs:{id:"events"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#events"}},[t._v("#")]),t._v(" "),e("code",[t._v("events")])]),t._v(" "),e("p",[t._v("This is the array of events polled (customer objects in this case), out of which jobs may be started with the recipe.")]),t._v(" "),e("h5",{attrs:{id:"next-poll"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#next-poll"}},[t._v("#")]),t._v(" "),e("code",[t._v("next_poll")])]),t._v(" "),e("p",[t._v("An object to be passed as the last argument (named to "),e("code",[t._v("last_created_since")]),t._v(' in this example) to the next poll cycle.  Use this to maintain a "cursor" for the next request.')]),t._v(" "),e("h5",{attrs:{id:"can-poll-more"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#can-poll-more"}},[t._v("#")]),t._v(" "),e("code",[t._v("can_poll_more")])]),t._v(" "),e("p",[t._v("A flag that informs the runtime whether more results may be immediately available.  If true, a further poll will be made (almost) immediately.")]),t._v(" "),e("h4",{attrs:{id:"dedup"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dedup"}},[t._v("#")]),t._v(" "),e("code",[t._v("dedup")])]),t._v(" "),e("pre",[e("code",[t._v("      dedup: lambda do |customer|\n        customer['id']\n      end,\n    }, # closing out the trigger\n")])]),t._v(" "),e("p",[t._v("It is not always possible to prevent the same record from appearing in separate "),e("code",[t._v("poll")]),t._v(" invocations.  To avoid duplicate recipe jobs, the runtime uses "),e("code",[t._v("dedup")]),t._v(", passing it each item returned in "),e("a",{attrs:{href:"#events"}},[e("code",[t._v("events")])]),t._v(".  The output is a unique identifier associated with the recipe job that results from that item.")]),t._v(" "),e("p",[t._v("For triggers that track the creation of new objects, the unique identifier is typically the application-specific unique ID for that object.")]),t._v(" "),e("p",[t._v("Another common trigger pattern is tracking object modification.  To reflect that, the adapter would typically mix the object's modification timestamp into the event's unique ID:")]),t._v(" "),e("pre",[e("code",[t._v("\"#{customer['id']}@#{customer['modified_at']}\"\n")])]),t._v(" "),e("h3",{attrs:{id:"descending-endpoints"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#descending-endpoints"}},[t._v("#")]),t._v(' "Descending" endpoints')]),t._v(" "),e("p",[t._v("These are endpoints that list records in the opposite order from the one we want them consumed.")]),t._v(" "),e("p",[e("code",[t._v("GET /v1/customers.json?created_since=2017-01-01T12:00:00Z&created_before=2017-01-21T00:00:00Z&order=desc&limit=100")])]),t._v(" "),e("pre",[e("code",[t._v('{\n  "customers": [\n     {\n       id: 9876,\n       created_at: "2017-01-20T12:34:56Z",\n       ...\n     }\n     ... (up to 100 total customer records)\n     {\n       id: 8765,\n       created_at: "2017-01-19T12:34:56Z",\n       ...\n     }\n  ]\n}\n')])]),t._v(" "),e("h4",{attrs:{id:"poll-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#poll-2"}},[t._v("#")]),t._v(" "),e("code",[t._v("poll")])]),t._v(" "),e("p",[t._v('The polling strategy for these endpoints is to "page" backwards, until we reach the beginning of the result set (or results we have processed before).  At that point the runtime handles creating the recipe jobs in the "correct" order.')]),t._v(" "),e("pre",[e("code",[t._v("    new_customer_descending: {\n      type: :paging_desc, # marks this as a \"descending\" trigger\n\n      poll: lambda do |connection, input, last_created_before|\n        created_before = last_created_before || Time.now\n        customers = get('https://api.my-app.com/v1/customers.json').\n                      params(created_since: input['created_since'].iso8601,\n                             created_before: created_before.iso8601,\n                             order: 'desc',\n                             limit: 100)['customers'] || []\n        {\n          events: customers,\n          next_page: (customers.length >= 100 && customers.last['created_at']).presence\n        }\n      end,\n")])]),t._v(" "),e("p",[t._v("This trigger variant's "),e("code",[t._v("poll")]),t._v(" response contains two parts:")]),t._v(" "),e("h5",{attrs:{id:"events-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#events-2"}},[t._v("#")]),t._v(" "),e("code",[t._v("events")])]),t._v(" "),e("p",[t._v("Similar to the ascending variant's "),e("a",{attrs:{href:"#events"}},[e("code",[t._v("events")])]),t._v(", but expected to be in descending order.")]),t._v(" "),e("h5",{attrs:{id:"next-page"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#next-page"}},[t._v("#")]),t._v(" "),e("code",[t._v("next_page")])]),t._v(" "),e("p",[t._v("If present (not "),e("code",[t._v("nil")]),t._v('), this signals the runtime that there may be more, "earlier", events available in the endpoint.')]),t._v(" "),e("p",[t._v("This value will be passed to the next "),e("code",[t._v("poll")]),t._v(" as the third argument, named "),e("code",[t._v("last_created_before")]),t._v(" in this example.")]),t._v(" "),e("p",[t._v('In comparison with the ascending trigger variant, this value plays the roles of both the "cursor" ('),e("a",{attrs:{href:"#next-poll"}},[e("code",[t._v("next_poll")])]),t._v(") and poll timing hint ("),e("a",{attrs:{href:"#can-poll-more"}},[e("code",[t._v("can_poll_more")])]),t._v(").")]),t._v(" "),e("p",[t._v("The adapter doesn't need to keep track of how far we can go before we encounter already-seen events; the runtime handles that state, in combination with the rest of the descending trigger components:")]),t._v(" "),e("h4",{attrs:{id:"document-id"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#document-id"}},[t._v("#")]),t._v(" "),e("code",[t._v("document_id")])]),t._v(" "),e("pre",[e("code",[t._v("      document_id: lambda do |customer|\n        customer['id']\n      end,\n")])]),t._v(" "),e("p",[t._v("Extracts the unique ID of the underlying object.  This is optional, if absent then the default behavior is to use the field called "),e("code",[t._v("id")]),t._v(" (case insensitive) in the object (the example above just illustrates the default).")]),t._v(" "),e("p",[e("strong",[t._v("Note")]),t._v(": This is not the same as "),e("a",{attrs:{href:"#dedup"}},[e("code",[t._v("dedup")])]),t._v(" below.")]),t._v(" "),e("h4",{attrs:{id:"sort-by"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sort-by"}},[t._v("#")]),t._v(" "),e("code",[t._v("sort_by")])]),t._v(" "),e("pre",[e("code",[t._v("      sort_by: lambda do |customer|\n        customer['created_at']\n      end,\n")])]),t._v(" "),e("p",[t._v('Extracts a sorting/ranking value for the underlying object, so the runtime can determine whether we have polled "far enough" backwards.')]),t._v(" "),e("h4",{attrs:{id:"dedup-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dedup-2"}},[t._v("#")]),t._v(" "),e("code",[t._v("dedup")])]),t._v(" "),e("pre",[e("code",[t._v("      dedup: lambda do |customer|\n        \"#{customer['id']}@#{customer['created_at']}\"\n      end\n    }, # closing out the trigger\n")])]),t._v(" "),e("p",[t._v("Performs the same de-duplication logic as in "),e("a",{attrs:{href:"#dedup"}},[t._v("the case")]),t._v(" of ascending triggers. However in the case of descending triggers it is optional; example above is the default, of combining the result of "),e("code",[t._v("document_id")]),t._v(" and "),e("code",[t._v("sort_by")]),t._v(", separated by a "),e("code",[t._v("@")]),t._v(" character.")]),t._v(" "),e("h1",{attrs:{id:"complete-adapter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#complete-adapter"}},[t._v("#")]),t._v(" Complete adapter")]),t._v(" "),e("p",[t._v('At this point, after closing the remaining "open" braces in the adapter description:')]),t._v(" "),e("pre",[e("code",[t._v("  } # triggers\n} # top-level adapter hash\n")])]),t._v(" "),e("p",[t._v("The adapter should be ready to be used.")])])}),[],!1,null,null,null);s.default=n.exports}}]);